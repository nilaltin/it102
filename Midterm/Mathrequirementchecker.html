<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Math Requirements Checker</title>
</head>

<body>

<h1>Math Requirements Checker</h1>
<p>Enter your most recent or highest math course to check if you meet the BAS math requirement.</p>

<form id="mathForm" onsubmit="main(); return false;">
  <label for="courseInput">Math Course:</label>
  <input type="text" id="courseInput" name="courseInput" placeholder="e.g., MATH146">
  <button type="submit">Check Eligibility</button>
</form>

<div id="result"></div>

<script>
var allMathCourses = {
    MATH080: { name: "Preparatory Math", qualifies: false, next: "MATH098" },
    MATH081: { name: "Basic Math", qualifies: false, next: "MATH084" },
    MATH084: { name: "Algebra I", qualifies: false, next: "MATH085" },
    MATH085: { name: "Algebra II", qualifies: false, next: "MATH097" },
    MATH097: { name: "Elementary Algebra", qualifies: false, next: "MATH098" },
    MATH098: { name: "Intermediate Algebra", qualifies: false, next: "MATH141" },
    MATH099: { name: "Essentials of Intermediate Algebra", qualifies: false, next: "MATH141" },
    MATH107: { name: "Math in Society", qualifies: false, next: "MATH146" },
    MATH116: { name: "Applications of Math", qualifies: false, next: "MATH141" },
    MATH141: { name: "Precalculus I", qualifies: false, next: "MATH142" },
    MATH142: { name: "Precalculus II", qualifies: false, next: "MATH151" },
    MATH146: { name: "Elementary Statistics", qualifies: true, next: "MATH141" },
    MATH148: { name: "Business Calculus", qualifies: false, next: "MATH211" },
    MATH151: { name: "Calculus I", qualifies: true, next: "MATH152" },
    MATH152: { name: "Calculus II", qualifies: true, next: "MATH163" },
    MATH163: { name: "Calculus III", qualifies: true, next: "MATH220" },
    MATH211: { name: "Elements of Statistical Methods", qualifies: true, next: "" },
    MATH220: { name: "Linear Algebra", qualifies: true, next: "MATH224" },
    MATH224: { name: "Vector Calculus", qualifies: true, next: "MATH238" },
    MATH238: { name: "Differential Equations", qualifies: true, next: "" }
};

function main() {
  let course = getCourseNumber();

  if (course === null) {
    document.getElementById("result").innerHTML =
      "<p>Please enter a valid math course (e.g., MATH097, MATH146).</p>";
    return;
  }

  let results = checkEligibility(course);
  displayResults(results);
}

function getCourseNumber() {
  let input = document.getElementById("courseInput").value;

  if (input === null || input.trim() === "") {
    return null;
  }

  let cleaned = input.trim().toUpperCase();
  cleaned = cleaned.replace(/\s+/g, "");

  if (!(cleaned in allMathCourses)) {
    return null;
  }

  return cleaned;
}

function checkEligibility(course) {
  let courseObj = allMathCourses[course];

  if (courseObj.qualifies === true) {
    return {
      course: course,
      meets: true,
      nextMathCourse: ""
    };
  }

  return {
    course: course,
    meets: false,
    nextMathCourse: courseObj.next
  };
}

function displayResults(results) {
  let resultDiv = document.getElementById("result");

  if (results.meets === true) {
    resultDiv.innerHTML =
      `<p>Congratulations! You've met the math requirement for the BAS in Application Development.</p>`;
    return;
  }

  if (results.nextMathCourse !== "") {
    resultDiv.innerHTML =
      `<p>You do not yet meet the BAS math requirement. 
      You should next consider taking <strong>${results.nextMathCourse}</strong>.</p>`;
    return;
  }

  resultDiv.innerHTML =
    "<p>Please contact an academic advisor for guidance on your next math course.</p>";
}
</script>

</body>
</html>